[{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\components\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\components\\SearchResults.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\components\\SearchSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\context\\AuthContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":16,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":16,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { auth, db } from '../firebase/config';\r\nimport { onAuthStateChanged, signOut as firebaseSignOut } from 'firebase/auth';\r\nimport type { User } from 'firebase/auth';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\ninterface AuthContextType {\r\n    currentUser: User | null;\r\n    userRole: 'soldier' | 'admin' | null;\r\n    loading: boolean;\r\n    logout: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (!context) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n};\r\n\r\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [currentUser, setCurrentUser] = useState<User | null>(null);\r\n    const [userRole, setUserRole] = useState<'soldier' | 'admin' | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            setCurrentUser(user);\r\n            if (user) {\r\n                // Fetch user role from Firestore\r\n                try {\r\n                    const userDoc = await getDoc(doc(db, 'users', user.uid));\r\n                    if (userDoc.exists()) {\r\n                        const data = userDoc.data();\r\n                        setUserRole(data.role as 'soldier' | 'admin');\r\n                    } else {\r\n                        // Default to soldier if no doc (or handle appropriately)\r\n                        setUserRole('soldier');\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error fetching user role:\", error);\r\n                    setUserRole(null);\r\n                }\r\n            } else {\r\n                setUserRole(null);\r\n            }\r\n            setLoading(false);\r\n        });\r\n\r\n        return unsubscribe;\r\n    }, []);\r\n\r\n    const logout = () => {\r\n        return firebaseSignOut(auth);\r\n    };\r\n\r\n    const value = {\r\n        currentUser,\r\n        userRole,\r\n        loading,\r\n        logout\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\esm\\index.esm.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\index.cjs.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\index.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\react\\esm\\index.esm.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\react\\index.cjs.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\dataconnect-generated\\react\\index.d.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'UseQueryResult' is defined but never used.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":24,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"UseQueryResult"},"fix":{"range":[345,360],"text":""},"desc":"Remove unused variable \"UseQueryResult\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'UseMutationResult' is defined but never used.","line":3,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":43,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"UseMutationResult"},"fix":{"range":[336,409],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { CreateNewTrainingData, ListAvailableUnitsData, AssignEquipmentToSoldierData, AssignEquipmentToSoldierVariables, GetSoldierProfileData } from '../';\r\nimport { UseDataConnectQueryResult, useDataConnectQueryOptions, UseDataConnectMutationResult, useDataConnectMutationOptions} from '@tanstack-query-firebase/react/data-connect';\r\nimport { UseQueryResult, UseMutationResult} from '@tanstack/react-query';\r\nimport { DataConnect } from 'firebase/data-connect';\r\nimport { FirebaseError } from 'firebase/app';\r\n\r\n\r\nexport function useCreateNewTraining(options?: useDataConnectMutationOptions<CreateNewTrainingData, FirebaseError, void>): UseDataConnectMutationResult<CreateNewTrainingData, undefined>;\r\nexport function useCreateNewTraining(dc: DataConnect, options?: useDataConnectMutationOptions<CreateNewTrainingData, FirebaseError, void>): UseDataConnectMutationResult<CreateNewTrainingData, undefined>;\r\n\r\nexport function useListAvailableUnits(options?: useDataConnectQueryOptions<ListAvailableUnitsData>): UseDataConnectQueryResult<ListAvailableUnitsData, undefined>;\r\nexport function useListAvailableUnits(dc: DataConnect, options?: useDataConnectQueryOptions<ListAvailableUnitsData>): UseDataConnectQueryResult<ListAvailableUnitsData, undefined>;\r\n\r\nexport function useAssignEquipmentToSoldier(options?: useDataConnectMutationOptions<AssignEquipmentToSoldierData, FirebaseError, AssignEquipmentToSoldierVariables>): UseDataConnectMutationResult<AssignEquipmentToSoldierData, AssignEquipmentToSoldierVariables>;\r\nexport function useAssignEquipmentToSoldier(dc: DataConnect, options?: useDataConnectMutationOptions<AssignEquipmentToSoldierData, FirebaseError, AssignEquipmentToSoldierVariables>): UseDataConnectMutationResult<AssignEquipmentToSoldierData, AssignEquipmentToSoldierVariables>;\r\n\r\nexport function useGetSoldierProfile(options?: useDataConnectQueryOptions<GetSoldierProfileData>): UseDataConnectQueryResult<GetSoldierProfileData, undefined>;\r\nexport function useGetSoldierProfile(dc: DataConnect, options?: useDataConnectQueryOptions<GetSoldierProfileData>): UseDataConnectQueryResult<GetSoldierProfileData, undefined>;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\firebase\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\pages\\AdminDashboard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1171,1174],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1171,1174],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":64,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'id' is assigned a value but never used.","line":74,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":74,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":81,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":81,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":140,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":140,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5452,5455],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5452,5455],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { getAllOfficers, getAllVehicles, getAllPublic, addRecord, updateRecord, deleteRecord } from '../services/searchService';\r\nimport type { SearchResult } from '../services/searchService';\r\nimport { Header } from '../components/Header';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport '../App.css';\r\n\r\nconst COLLECTION_MAP = {\r\n    'OFFICERS': 'officers',\r\n    'VEHICLES': 'vehicles',\r\n    'PUBLIC': 'public'\r\n};\r\n\r\nconst FIELDS_MAP = {\r\n    'OFFICERS': ['serviceNumber', 'rank', 'name', 'unit', 'status'],\r\n    'VEHICLES': ['plateNumber', 'type', 'owner', 'chassisNumber', 'status'],\r\n    'PUBLIC': ['nic', 'name', 'address', 'phone', 'records']\r\n};\r\n\r\nexport const AdminDashboard: React.FC = () => {\r\n    const [activeTab, setActiveTab] = useState<'OFFICERS' | 'VEHICLES' | 'PUBLIC'>('OFFICERS');\r\n    const [data, setData] = useState<SearchResult[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [editingItem, setEditingItem] = useState<SearchResult | null>(null);\r\n    const [formData, setFormData] = useState<any>({});\r\n\r\n    useEffect(() => {\r\n        fetchData(activeTab);\r\n    }, [activeTab]);\r\n\r\n    const fetchData = async (tab: 'OFFICERS' | 'VEHICLES' | 'PUBLIC') => {\r\n        setLoading(true);\r\n        try {\r\n            let result: SearchResult[] = [];\r\n            if (tab === 'OFFICERS') result = await getAllOfficers();\r\n            else if (tab === 'VEHICLES') result = await getAllVehicles();\r\n            else if (tab === 'PUBLIC') result = await getAllPublic();\r\n            setData(result);\r\n        } catch (error) {\r\n            console.error(\"Error fetching data:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddClick = () => {\r\n        setEditingItem(null);\r\n        setFormData({});\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleEditClick = (item: SearchResult) => {\r\n        setEditingItem(item);\r\n        setFormData(item);\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteClick = async (id: string) => {\r\n        if (window.confirm(\"Are you sure you want to delete this record? This action is irreversible.\")) {\r\n            try {\r\n                await deleteRecord(COLLECTION_MAP[activeTab], id);\r\n                fetchData(activeTab);\r\n            } catch (error) {\r\n                alert(\"Error deleting record\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleFormSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        try {\r\n            if (editingItem) {\r\n                const { id, ...updateData } = formData;\r\n                await updateRecord(COLLECTION_MAP[activeTab], editingItem.id, updateData);\r\n            } else {\r\n                await addRecord(COLLECTION_MAP[activeTab], formData);\r\n            }\r\n            setIsModalOpen(false);\r\n            fetchData(activeTab);\r\n        } catch (error) {\r\n            alert(\"Error saving record\");\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (field: string, value: string) => {\r\n        setFormData({ ...formData, [field]: value });\r\n    };\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <div className=\"overlay\"></div>\r\n            <div className=\"content\">\r\n                <Header />\r\n\r\n                <div className=\"dashboard-header\" style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    marginBottom: '2rem',\r\n                    gap: '1rem',\r\n                    flexWrap: 'wrap',\r\n                    background: 'rgba(0,0,0,0.6)',\r\n                    padding: '1.5rem',\r\n                    borderRadius: '12px',\r\n                    border: '1px solid rgba(255, 215, 0, 0.2)',\r\n                    backdropFilter: 'blur(10px)'\r\n                }}>\r\n                    <h2 style={{\r\n                        color: '#FFD700',\r\n                        fontFamily: 'Black Ops One',\r\n                        margin: 0,\r\n                        fontSize: 'clamp(1.2rem, 4vw, 2rem)',\r\n                        textShadow: '0 0 10px rgba(255, 215, 0, 0.3)'\r\n                    }}>COMMAND CENTER DATABASE</h2>\r\n                    <button\r\n                        onClick={handleAddClick}\r\n                        style={{\r\n                            background: '#FFD700',\r\n                            color: '#000',\r\n                            border: 'none',\r\n                            padding: '12px 24px',\r\n                            fontFamily: 'Orbitron',\r\n                            fontWeight: 'bold',\r\n                            cursor: 'pointer',\r\n                            borderRadius: '4px',\r\n                            boxShadow: '0 0 15px rgba(255, 215, 0, 0.4)',\r\n                            transition: 'all 0.3s ease'\r\n                        }}\r\n                        className=\"add-record-btn\"\r\n                    >\r\n                        + ADD NEW RECORD\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\r\n                    {['OFFICERS', 'VEHICLES', 'PUBLIC'].map((tab) => (\r\n                        <button\r\n                            key={tab}\r\n                            onClick={() => setActiveTab(tab as any)}\r\n                            style={{\r\n                                background: activeTab === tab ? '#FFD700' : 'rgba(0,0,0,0.5)',\r\n                                color: activeTab === tab ? '#000' : '#fff',\r\n                                border: '1px solid #FFD700',\r\n                                padding: '10px 20px',\r\n                                cursor: 'pointer',\r\n                                fontFamily: 'Orbitron',\r\n                                fontWeight: 'bold',\r\n                                transition: 'all 0.3s'\r\n                            }}\r\n                        >\r\n                            {tab}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    style={{ width: '100%', background: 'rgba(0,0,0,0.8)', padding: '20px', borderRadius: '8px', border: '1px solid #FFD700', boxShadow: '0 0 20px rgba(255, 215, 0, 0.1)' }}\r\n                >\r\n                    {loading ? (\r\n                        <div style={{ color: '#FFD700', textAlign: 'center', padding: '20px', fontFamily: 'Orbitron' }}>DECRYPTING CLASSIFIED DATA...</div>\r\n                    ) : data.length === 0 ? (\r\n                        <div style={{ color: '#aaa', textAlign: 'center', padding: '20px' }}>No records found in current sector.</div>\r\n                    ) : (\r\n                        <div style={{ overflowX: 'auto' }}>\r\n                            <table style={{ width: '100%', borderCollapse: 'collapse', color: '#ccc' }}>\r\n                                <thead>\r\n                                    <tr style={{ borderBottom: '2px solid #FFD700', textAlign: 'left' }}>\r\n                                        {FIELDS_MAP[activeTab].map(field => (\r\n                                            <th key={field} style={{ padding: '12px', color: '#FFD700', textTransform: 'uppercase', fontSize: '0.8rem', fontFamily: 'Orbitron' }}>{field}</th>\r\n                                        ))}\r\n                                        <th style={{ padding: '12px', color: '#FFD700', textAlign: 'right', fontFamily: 'Orbitron' }}>ACTIONS</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {data.map((item) => (\r\n                                        <tr key={item.id} style={{ borderBottom: '1px solid #333', transition: 'background 0.2s' }} className=\"table-row-hover\">\r\n                                            {FIELDS_MAP[activeTab].map(field => (\r\n                                                <td key={field} style={{ padding: '12px', fontSize: '0.9rem' }}>{item[field] || 'N/A'}</td>\r\n                                            ))}\r\n                                            <td style={{ padding: '12px', textAlign: 'right' }}>\r\n                                                <button onClick={() => handleEditClick(item)} style={{ background: 'transparent', border: '1px solid #00ff00', color: '#00ff00', padding: '4px 8px', marginRight: '8px', cursor: 'pointer', fontSize: '0.7rem', fontFamily: 'Orbitron' }}>EDIT</button>\r\n                                                <button onClick={() => handleDeleteClick(item.id)} style={{ background: 'transparent', border: '1px solid #ff0000', color: '#ff0000', padding: '4px 8px', cursor: 'pointer', fontSize: '0.7rem', fontFamily: 'Orbitron' }}>DELETE</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </motion.div>\r\n\r\n                {/* CRUD Modal */}\r\n                <AnimatePresence>\r\n                    {isModalOpen && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            exit={{ opacity: 0 }}\r\n                            style={{\r\n                                position: 'fixed',\r\n                                top: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                bottom: 0,\r\n                                background: 'rgba(0,0,0,0.9)',\r\n                                display: 'flex',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                zIndex: 1000,\r\n                                padding: '20px'\r\n                            }}\r\n                        >\r\n                            <motion.div\r\n                                initial={{ scale: 0.9, y: 20 }}\r\n                                animate={{ scale: 1, y: 0 }}\r\n                                style={{\r\n                                    background: '#1a1a1a',\r\n                                    border: '1px solid #FFD700',\r\n                                    padding: '30px',\r\n                                    width: '100%',\r\n                                    maxWidth: '500px',\r\n                                    borderRadius: '8px',\r\n                                    position: 'relative'\r\n                                }}\r\n                            >\r\n                                <h3 style={{ color: '#FFD700', fontFamily: 'Orbitron', marginTop: 0, marginBottom: '20px' }}>\r\n                                    {editingItem ? 'EDIT RECORD' : 'ADD NEW RECORD'}\r\n                                </h3>\r\n                                <form onSubmit={handleFormSubmit}>\r\n                                    {FIELDS_MAP[activeTab].map(field => (\r\n                                        <div key={field} style={{ marginBottom: '15px' }}>\r\n                                            <label style={{ color: '#FFD700', display: 'block', marginBottom: '5px', fontSize: '0.8rem', fontFamily: 'Orbitron' }}>\r\n                                                {field.toUpperCase()}\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                required\r\n                                                value={formData[field] || ''}\r\n                                                onChange={(e) => handleInputChange(field, e.target.value)}\r\n                                                style={{\r\n                                                    width: '100%',\r\n                                                    background: 'rgba(255,255,255,0.05)',\r\n                                                    border: '1px solid #444',\r\n                                                    color: '#fff',\r\n                                                    padding: '10px',\r\n                                                    borderRadius: '4px',\r\n                                                    fontFamily: 'monospace'\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    ))}\r\n                                    <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            style={{\r\n                                                flex: 1,\r\n                                                background: '#FFD700',\r\n                                                color: '#000',\r\n                                                border: 'none',\r\n                                                padding: '12px',\r\n                                                fontFamily: 'Orbitron',\r\n                                                fontWeight: 'bold',\r\n                                                cursor: 'pointer'\r\n                                            }}\r\n                                        >\r\n                                            {editingItem ? 'UPDATE' : 'CREATE'}\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setIsModalOpen(false)}\r\n                                            style={{\r\n                                                flex: 1,\r\n                                                background: 'transparent',\r\n                                                color: '#fff',\r\n                                                border: '1px solid #444',\r\n                                                padding: '12px',\r\n                                                fontFamily: 'Orbitron',\r\n                                                cursor: 'pointer'\r\n                                            }}\r\n                                        >\r\n                                            CANCEL\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </motion.div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n            <style>{`\r\n                .table-row-hover:hover {\r\n                    background: rgba(255, 215, 0, 0.05);\r\n                }\r\n                .add-record-btn:hover {\r\n                    transform: translateY(-2px);\r\n                    boxShadow: 0 0 20px rgba(255, 215, 0, 0.6);\r\n                }\r\n                @media (max-width: 768px) {\r\n                    .dashboard-header {\r\n                        flex-direction: column;\r\n                        text-align: center;\r\n                    }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\pages\\Login.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1121,1124],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1121,1124],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { auth } from '../firebase/config';\r\nimport { motion } from 'framer-motion';\r\nimport '../App.css'; // Re-use main styles for now\r\n\r\nexport const Login: React.FC = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Allow login with just username (e.g. \"admin\") -> \"admin@army.lk\"\r\n            // This is a convenience feature.\r\n            let loginEmail = email;\r\n            if (!email.includes('@')) {\r\n                loginEmail = `${email}@army.lk`;\r\n            }\r\n\r\n            await signInWithEmailAndPassword(auth, loginEmail, password);\r\n            navigate('/');\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            setError('Failed to login. Please check your credentials.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"auth-container\">\r\n            <motion.div\r\n                className=\"auth-box\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5 }}\r\n            >\r\n                <h2 className=\"auth-title\">MILITARY SIU LOGIN</h2>\r\n                {error && <div className=\"auth-error\">{error}</div>}\r\n                <form onSubmit={handleSubmit} className=\"auth-form\">\r\n                    <div className=\"form-group\">\r\n                        <label>Username / Email</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Enter username or email\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Enter password\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" disabled={loading} className=\"auth-button\">\r\n                        {loading ? 'LOGGING IN...' : 'LOGIN'}\r\n                    </button>\r\n                </form>\r\n                <div className=\"auth-footer\">\r\n                    Need an account? <Link to=\"/register\" className=\"auth-link\">Register Soldier</Link>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\pages\\Register.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1615,1618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1615,1618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { doc, setDoc } from 'firebase/firestore';\r\nimport { auth, db } from '../firebase/config';\r\nimport { motion } from 'framer-motion';\r\nimport '../App.css';\r\n\r\nexport const Register: React.FC = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [fullName, setFullName] = useState('');\r\n    const [serviceNumber, setServiceNumber] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            return setError('Passwords do not match');\r\n        }\r\n\r\n        setError('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n            const user = userCredential.user;\r\n\r\n            // Create user document in Firestore\r\n            const role = email === 'admin@army.lk' ? 'admin' : 'soldier';\r\n\r\n            await setDoc(doc(db, 'users', user.uid), {\r\n                email: user.email,\r\n                fullName,\r\n                serviceNumber,\r\n                role,\r\n                createdAt: new Date().toISOString()\r\n            });\r\n\r\n            navigate('/');\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            setError(err.message || 'Failed to create an account.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"auth-container\">\r\n            <motion.div\r\n                className=\"auth-box\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5 }}\r\n            >\r\n                <h2 className=\"auth-title\">SOLDIER REGISTRATION</h2>\r\n                {error && <div className=\"auth-error\">{error}</div>}\r\n                <form onSubmit={handleSubmit} className=\"auth-form\">\r\n                    <div className=\"form-group\">\r\n                        <label>Full Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={fullName}\r\n                            onChange={(e) => setFullName(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Rank & Name\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Service Number</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={serviceNumber}\r\n                            onChange={(e) => setServiceNumber(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                            placeholder=\"Enter Service Number\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Confirm Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={confirmPassword}\r\n                            onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            required\r\n                            className=\"auth-input\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\" disabled={loading} className=\"auth-button\">\r\n                        {loading ? 'REGISTERING...' : 'REGISTER'}\r\n                    </button>\r\n                </form>\r\n                <div className=\"auth-footer\">\r\n                    Already have an account? <Link to=\"/login\" className=\"auth-link\">Login</Link>\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\pages\\SearchPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Nipun\\Desktop\\Milatary\\armyinfo.lk\\src\\services\\searchService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[221,224],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[221,224],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2020,2023],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2020,2023],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2178,2181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2178,2181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from '../firebase/config';\r\nimport { collection, query, where, getDocs, addDoc, updateDoc, deleteDoc, doc } from 'firebase/firestore';\r\n\r\nexport interface SearchResult {\r\n    id: string;\r\n    [key: string]: any;\r\n}\r\n\r\nexport const searchOfficers = async (searchQuery: string): Promise<SearchResult[]> => {\r\n    if (!searchQuery) return [];\r\n    const q = query(collection(db, \"officers\"), where(\"serviceNumber\", \"==\", searchQuery));\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\nexport const searchVehicles = async (searchQuery: string): Promise<SearchResult[]> => {\r\n    if (!searchQuery) return [];\r\n    const q = query(collection(db, \"vehicles\"), where(\"plateNumber\", \"==\", searchQuery));\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\nexport const searchPublic = async (searchQuery: string): Promise<SearchResult[]> => {\r\n    if (!searchQuery) return [];\r\n    const q = query(collection(db, \"public\"), where(\"nic\", \"==\", searchQuery));\r\n    const querySnapshot = await getDocs(q);\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\n// Admin: Get all data\r\nexport const getAllOfficers = async (): Promise<SearchResult[]> => {\r\n    const querySnapshot = await getDocs(collection(db, \"officers\"));\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\nexport const getAllVehicles = async (): Promise<SearchResult[]> => {\r\n    const querySnapshot = await getDocs(collection(db, \"vehicles\"));\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\nexport const getAllPublic = async (): Promise<SearchResult[]> => {\r\n    const querySnapshot = await getDocs(collection(db, \"public\"));\r\n    return querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n};\r\n\r\n// Admin: CRUD operations\r\nexport const addRecord = async (collectionName: string, data: any) => {\r\n    return await addDoc(collection(db, collectionName), data);\r\n};\r\n\r\nexport const updateRecord = async (collectionName: string, id: string, data: any) => {\r\n    const docRef = doc(db, collectionName, id);\r\n    return await updateDoc(docRef, data);\r\n};\r\n\r\nexport const deleteRecord = async (collectionName: string, id: string) => {\r\n    const docRef = doc(db, collectionName, id);\r\n    return await deleteDoc(docRef);\r\n};\r\n","usedDeprecatedRules":[]}]

